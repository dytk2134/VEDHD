{% extends 'base.html' %}
{% block content %}
<div style="margin:20px 100px 20px 100px;">

           <table id="jsontable" class="display">
             <thead>
               <tr>
                 {% for k in keys %}
                 <th>{{ k }}</th>
                 {% endfor %}            
               </tr>
             </thead>
             <tfoot>
               <tr>
                 {% for k in keys %}
                 <th>{{ k }}</th>
                 {% endfor %}
               </tr>
             </tfoot>
             <tbody>
               {% for line in results %}               
               <tr>
                 {% for k in keys %}
                 <td>{{ line[k] }}</td>
                 {% endfor %}
               </tr>
               {% endfor %}
             </tbody>
           </table>
         </div>

         {% block js %}
         <!--dataTable-->
         <script type="text/javascript" language="javascript" src="//code.jquery.com/jquery-1.11.1.min.js"></script>
         <link href="//cdn.datatables.net/1.10.8/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
         <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/buttons/1.1.1/css/buttons.dataTables.min.css">
         <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/select/1.1.0/css/select.dataTables.min.css">
         <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/s/dt/jszip-2.5.0,pdfmake-0.1.18,dt-1.10.10,b-1.1.0,b-colvis-1.1.0,b-flash-1.1.0,b-html5-1.1.0,b-print-1.1.0/datatables.min.css"/>
         <script src="//cdn.datatables.net/1.10.8/js/jquery.dataTables.min.js"></script>
         <script type="text/javascript" language="javascript" src="//cdn.datatables.net/buttons/1.1.1/js/dataTables.buttons.min.js"></script>
         <script type="text/javascript" language="javascript" src="//cdn.datatables.net/select/1.1.0/js/dataTables.select.min.js"></script>
         <script type="text/javascript" src="https://cdn.datatables.net/s/dt/jszip-2.5.0,pdfmake-0.1.18,dt-1.10.10,b-1.1.0,b-colvis-1.1.0,b-flash-1.1.0,b-html5-1.1.0,b-print-1.1.0/datatables.min.js"></script>

       {% endblock js %}


<script>
	$(document).ready(function() {

			$('#jsontable').DataTable( {
			    dom: 'Bfrtip',
			    buttons: [
			        'copy','csv', 'excel', 'print'
			    ]
			} );
	} );
</script>
  {% endblock content %}
  
